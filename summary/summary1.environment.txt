1. Apache сервер
  - Скачиваем c https://www.apachelounge.com/download/ файл Apache 2.4 Win64

  - Распковываем папку Apache24 на диск C:/. 
    * Можно установить в любое другое место. В таком случае далее заменяйте C:/Apache24 на путь к директории, где вы распаковали Apache

  - В папке C:/Apache24/conf находим файл httpd.conf, открываем в редакторе.
    Проверяем, что путь к серевру указан верно:

    Define SRVROOT "с:/Apache24"
    ServerRoot "${SRVROOT}"

  - Открываем командную строку и выполняем команду запуска сервера
    > C:/Apace24/bin/httpd

  ! Если возникает ошибка - занят порт: could not bind to address, 
    то в конфигурационном файл httpd.conf меням порт на 8080:
    
    Listen 8080
    
  - Переходим в браузере по адресу localhost или localhost:8080, если меняли порт.
    Должна отобразиться страница "It works!"

2. PHP
  - Скачиваем с https://windows.php.net/download/ файл Zip VC15 x64 Thread Safe
    ! Важно скачать именно Tread Safe, иначе невозможно связать Apache и PHP

  - Распаковываем в папку C:/php7
    * Можно установить в любое другое место. В таком случае далее заменяйте C:/php7 на путь к директории, где вы распаковали PHP

  - В папке C:/php7 находим файл php.ini-development, копируем его и переименовываем копию в php.ini

  - В конфигурационном файле сервера httpd.conf подключаем модуль PHP.
    Добавляем строки:

    # Загрузка модуля
    LoadModule php7_module C:/php7/php7apache2_4.dll
    
    # Корневая директория PHP c файлом php.ii
    PHPIniDir "C:/php7"

  - В конфигурационном файле сервера httpd.conf настраиваем обработку .php файлов
    Добавляем строки:

    AddHandler application/x-httpd-php .php

  - В конфигурационном файле сервера httpd.conf настраиваем выдачу index.php при обращении к папке.
    Находим и заменяем строки:

    <IfModule dir_module>
      DirectoryIndex index.php index.html
    </IfModule>

  - Перезапускаем сервер
    > C:/Apace24/bin/httpd

  - В папке htdocs внутри сервера C:/Apache24 находим файл index.html, переименовываем в index.php.

  - Открываем index.php в редакторе и заменяем его содержимое на 
    <?php phpinfo(); ?>

  - Переходим в браузере по адресу localhost или localhost:8080, если меняли порт.
    Должна отобразиться страница с конфигурацией PHP

3. Подключение Apache как сервиса

  - Регистрируем сервис. В командной сторке выполняем команду:
    > C:/Apache24/httpd.exe -k install
  
  - В папке C:/Apache24/bin находим ApacheMonitor.exe и запускаем. 
    Иконка должна появиться в трее. Теперь можно запускать, останавливать и перезапускать Apache через графический интерфейс.

4. Настройка виртуальных хостов
  
  - В корне сервера C:/Apache24 создаем папку www
    В ней создаем папку itstep

  - Создаем там (в C:/Apache24/www/itstep) файл index.php c любым содержимым.
    Например: <?php phpinfo(); ?>

  - Открываем в редакторе файл C:\Windows\System32\drivers\etc\hosts
    Добавляем строку:

    127.0.0.1       itstep.test
  
    ! Убежадаемся, что файл сохранился. Разрешаем использовать прова администратора, если система их запрашивает

  - В конфигурационном файле сервера httpd.conf настраиваем вирутальный хост
    Добавляем строки:
    
    <VirtualHost 127.0.0.1:8080> # Порт должен совпадать с тем, что указан в Listen
      ServerName itstep.test # Виртуальное доменное имя
      DocumentRoot "${SRVROOT}/www/itstep"  # Путь к корневой папке сайта
      <Directory ${SRVROOT}/www/itstep> # Настройка корневой папки сайтом
          AllowOverride All
          Options Indexes
          Require all granted
      </Directory>
      ErrorLog "logs/itstep.log" # Путь для лог-файла сайта
    </VirtualHost>

  - Перзапускаем сервер

  - Открываем в браузере itstep.test или istep.test:8080, есди меняли порт
    Должна отобразиться страница c содержимым файла index.php

